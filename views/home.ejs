<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/base.css" />
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/home.css" />
    <link rel="stylesheet" href="../font-awsome-icons/css/all.css" />
    <link
      rel="stylesheet"
      href="../material-icons/css/materialdesignicons.min.css"
      media="all"
    />
    <!-- <link rel="stylesheet" href="css/search.css" /> -->
    <title>Document</title>
  </head>

  <body>
    <div id="header-container"><%- include('header') %></div>

    <!-- MAIN CONTAINER: THIS CONTAIN ALL THE BODY CONTENT -->
    <div id="main-container">
      <!-- THE FIRST SECTION OF THE MAIN PAGE -->
      <div id="topmost-section">
        <div id="category">
          <h1 id="cat-head">
            <i
              style="font-size: 24px"
              class="mdi mdi-96px mdi-rotate-0 mdi-view-list"
            ></i>
            <span> CATEGORIES</span>
          </h1>
          <form action="/" method="post">
            <input type="hidden" name="cat" value="1" />
            <button id="cat">
              <i
                style="font-size: 20px"
                class="mdi mdi-96px mdi-rotate-0 mdi-tshirt-crew-outline"
              ></i>
              Fassion
            </button>
          </form>
          <form action="/" method="post">
            <input type="hidden" name="cat" value="2" />
            <button type="submit" id="cat">
              <i
                style="font-size: 20px"
                class="mdi mdi-96px mdi-rotate-0 mdi-food-takeout-box-outline"
              ></i
              >Super market
            </button>
          </form>

          <form action="/" method="post">
            <input type="hidden" name="cat" value="3" />
            <button id="cat">
              <i
                style="font-size: 20px"
                class="mdi mdi-96px mdi-rotate-0 mdi-cellphone"
              ></i
              >Phones & Accessories
            </button>
          </form>

          <form action="/" method="post">
            <input type="hidden" name="cat" value="4" />
            <button id="cat">
              <i
                style="font-size: 20px"
                class="mdi mdi-96px mdi-rotate-0 mdi-desktop-mac"
              ></i
              >Computers
            </button>
          </form>

          <form action="/" method="post">
            <input type="hidden" name="cat" value="5" />
            <button id="cat">
              <i
                style="font-size: 20px"
                class="mdi mdi-96px mdi-rotate-0 mdi-tshirt-crew-outline"
              ></i
              >Home
            </button>
          </form>

          <form action="/" method="post">
            <input type="hidden" name="cat" value="6" />
            <button id="cat">
              <i
                style="font-size: 20px"
                class="mdi mdi-96px mdi-spin mdi-rotate-0 mdi-dots-circle"
              ></i
              >Fassion
            </button>
          </form>
        </div>
        <div id="topmost-left">
          <img
            id="img1"
            src="../font/delivery-concept-portrait-happy-african-american-delivery-man-red-cloth-holding-box-package-isolated-grey-studio-background-copy-space_1258-1261.jpg"
            alt=""
            srcset=""
          />
        </div>
        <div id="topmost-right">
          <%if (locals.name){ %>
          <div id="text-1">
            <div id="user-greeting-1">Hi, <%=name%></div>
            <div id="user-greeting-1">WELCOME TO EXSALE</div>
            <!-- <div id="user-contact">nyankson25@gmail.com</div> -->
            <div id="sign">
              <button id="prepaid-btn">
                <i style="font-size: 16px" class="mdi mdi-wallet-outline"></i
                >Prepaid: 00.0
              </button>
              <div id="invite-btn">
                <i
                  style="font-size: 16px"
                  class="mdi mdi-account-plus-outline"
                ></i>
                Invite
              </div>
            </div>
          </div>

          <%} else{ %>

          <div id="text-2">
            <div id="user-greeting-1">Hi, cherished Customer</div>
            <div id="user-greeting-1">WELCOME TO EXSALE</div>
            <div id="sign">
              <form action="/login" method="get">
                <button id="login-btn">
                  <i
                    style="font-size: 16px"
                    class="mdi mdi-96px mdi-rotate-0 mdi-login"
                  ></i>
                  Log in
                </button>
              </form>
              <form action="/signup" method="get">
                <button id="signup-btn">
                  <i
                    style="font-size: 16px"
                    class="mdi mdi-16px mdi-rotate-0 mdi-account-plus-outline"
                  ></i>
                  Join
                </button>
              </form>
            </div>
          </div>

          <%}%>

          <div id="flash-deal">
            <div class="flash-deals-head">
              Flash deals
              <div style="color: red"><%- include('flash')%></div>
            </div>
            <div id="flash-deals">
              <button id="flash-deal-1">
                <img
                  id="flash-deal-img"
                  src="../font/0ed9e16c7fcf4078981a587643b170d3.jpg"
                  alt=""
                  srcset=""
                />

                <div id="prices">
                  <div id="new-price">GH₵ 36</div>
                  <span class="percent-off">-4%</span>
                </div>
              </button>

              <button id="flash-deal-1">
                <img
                  id="flash-deal-img"
                  src="../font/0ed9e16c7fcf4078981a587643b170d3.jpg"
                  alt=""
                  srcset=""
                />
                <div id="prices">
                  <div id="new-price">GH₵ 36</div>
                </div>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div id="demo">
        <div id="con">
          <div id="img-con">
            <img id="img2" src="../font/shu1.jpg" alt="" srcset="" />
            <div id="text">CATEGORY 1</div>
          </div>
        </div>
        <div id="con">
          <div id="img-con">
            <img id="img2" src="../font/shu2.jpg" alt="" srcset="" />
            <div id="text">CATEGORY 1</div>
          </div>
        </div>
        <div id="con">
          <div id="img-con">
            <img
              id="img2"
              src="../font/gettyimages-1025627712-612x612.jpg"
              alt=""
              srcset=""
            />
            <div id="text">CATEGORY 1</div>
          </div>
        </div>
        <div id="con">
          <div id="img-con">
            <img
              id="img2"
              src="../font/smartphones-front-back-view-illustration_174496-77.jpg"
              alt=""
              srcset=""
            />
            <div id="text">CATEGORY 1</div>
          </div>
        </div>
        <div id="con">
          <div id="img-con">
            <img
              id="img2"
              src="../font/gettyimages-1129225638-2048x2048.jpg"
              alt=""
              srcset=""
            />
            <div id="text">CATEGORY 1</div>
          </div>
        </div>
        <div id="con">
          <div id="img-con">
            <img
              id="img2"
              src="../font/gettyimages-1129225638-2048x2048.jpg"
              alt=""
              srcset=""
            />
            <div title="hkjhkk" id="text">CATEGORY 1</div>
          </div>
        </div>
      </div>
      <div id="demo" class="demo">
        <div id="weekly-deal">Weakly deal</div>
       
        <% Object.keys(result).forEach(key => { var row = result[key]; const
        percentOff = (row.off/100)*row.price; const oldPrice = row.price +
        percentOff; const total = (row.rate) * 5; const rate =
        Math.round((row.stars / total) * 5); %>
        <div id="item">
          <form action="/detail" method="post">
            <input type="hidden" name="id" value="<%=row.id%>" />
            <button id="image-btn">
              <!-- <div id="bbb">
            <i style="font-size: 100px" class="mdi mdi-96px mdi-rotate-0 mdi-tshirt-crew-outline"></i>
          </div>           -->
              <img id="item-img" src="<%=row.pic%>" alt="" srcset="" />
            </button>
          </form>
          <div id="item-name"><%=row.name%></div>
          <div id="prices">
            <div id="new-price">GH₵ <%=(row.price).toFixed(2)%></div>

            <% if (row.off <= 0) { %>
            <!-- <div id="old-price"></div> -->
            <% }else{ %>
            <div id="old-price">GH₵ <%=oldPrice.toFixed(2)%></div>
            <% } %>
          </div>

          <div id="percent-off">
            <div id="star">
              <%for(let i = 0; i < rate; i++){ %>&starf;<%}%><%for(let i = 0; i
              < (5 - rate); i++){ %>&star;<%}%>(<%=row.rate%>)
            </div>
            <!-- <span class="old-price">GHS 378</span> -->
            <% if (row.off <= 0) { %>
            <!-- <span class="percent-off"></span> -->
            <% }else{ %>
            <span class="percent-off">-<%=row.off%>%</span>
            <% } %>
          </div>
        </div>
        <!-- <li><%=row.First_name%></li> -->
        <%})%> <% Object.keys(result).forEach(key => { var row = result[key];
        const percentOff = (row.off/100)*row.price; const oldPriceWhole =
        Math.round((row.price + percentOff) * (10**2)); const oldPriceRounded =
        oldPriceWhole / (10**2); const total = (row.rate) * 5; const rate =
        Math.round((row.stars / total) * 5); %>
        <div id="item">
          <form action="/detail" method="post">
            <input type="hidden" name="id" value="<%=row.id%>" />
            <button id="image-btn">
              <!-- <div id="bbb">
            <i style="font-size: 100px" class="mdi mdi-96px mdi-rotate-0 mdi-tshirt-crew-outline"></i>
          </div>           -->
              <img id="item-img" src="../font/<%=row.pic%>" alt="" srcset="" />
            </button>
          </form>
          <div id="item-name"><%=row.name%></div>
          <div id="prices">
            <div id="new-price">GH₵ <%=row.price%></div>

            <% if (row.off <= 0) { %>
            <!-- <div id="old-price"></div> -->
            <% }else{ %>
            <div id="old-price">GH₵ <%=oldPriceRounded%></div>
            <% } %>
          </div>

          <div id="percent-off">
            <div id="star">
              <%for(let i = 0; i < rate; i++){ %>&starf;<%}%><%for(let i = 0; i
              < (5 - rate); i++){ %>&star;<%}%>(<%=row.rate%>)
            </div>
            <!-- <span class="old-price">GHS 378</span> -->
            <% if (row.off <= 0) { %>
            <!-- <span class="percent-off"></span> -->
            <% }else{ %>
            <span class="percent-off">-<%=row.off%>%</span>
            <% } %>
          </div>
        </div>
        <!-- <li><%=row.First_name%></li> -->
        <%})%>
        <!-- <div id="item"></div>
            <div id="item"></div>
            <div id="item"></div> -->
        <!-- <div id="item"></div> -->
        <div id="banners">
          <div id="banner">
            <img
              id="img1"
              class="bana-img"
              src="../font/bana.jpg"
              alt=""
              srcset=""
            />
          </div>
          <div id="banner">
            <img
              id="img1"
              class="bana-img"
              src="../font/bannernew.png"
              alt=""
              srcset=""
            />
          </div>
        </div>

        <div id="weekly-deal">Fassion <%=arr%></div>

        <% Object.keys(result).forEach(key => { var row = result[key]; const
        percentOff = (row.off/100)*row.price; const oldPriceWhole =
        Math.round((row.price + percentOff) * (10**2)); const oldPriceRounded =
        oldPriceWhole / (10**2); const total = (row.rate) * 5; const rate =
        Math.round((row.stars / total) * 5); %>
        <div id="item-category">
          <form action="/detail" method="post">
            <input type="hidden" name="id" value="<%=row.id%>" />
            <button id="image-btn">
              <!-- <div id="bbb">
            <i style="font-size: 100px" class="mdi mdi-96px mdi-rotate-0 mdi-tshirt-crew-outline"></i>
          </div>           -->
              <img
                id="item-category-img"
                src="../font/<%=row.pic%>"
                alt=""
                srcset=""
              />
            </button>
          </form>
          <div id="item-name"><%=row.name%></div>
        </div>
        <!-- <li><%=row.First_name%></li> -->
        <%})%> <% Object.keys(result).forEach(key => { var row = result[key];
        const percentOff = (row.off/100)*row.price; const oldPriceWhole =
        Math.round((row.price + percentOff) * (10**2)); const oldPriceRounded =
        oldPriceWhole / (10**2); const total = (row.rate) * 5; const rate =
        Math.round((row.stars / total) * 5); %>
        <div id="item-category">
          <form action="/detail" method="post">
            <input type="hidden" name="id" value="<%=row.id%>" />
            <button id="image-btn">
              <!-- <div id="bbb">
            <i style="font-size: 100px" class="mdi mdi-96px mdi-rotate-0 mdi-tshirt-crew-outline"></i>
          </div>           -->
              <img
                id="item-category-img"
                src="../font/<%=row.pic%>"
                alt=""
                srcset=""
              />
            </button>
          </form>
          <div id="item-name"><%=row.name%></div>
        </div>
        <!-- <li><%=row.First_name%></li> -->
        <%})%>

        <div id="weekly-deal">Top picks</div>

        <% Object.keys(result).forEach(key => { var row = result[key]; const
        percentOff = (row.off/100)*row.price; const oldPriceWhole =
        Math.round((row.price + percentOff) * (10**2)); const oldPriceRounded =
        oldPriceWhole / (10**2); const total = (row.rate) * 5; const rate =
        Math.round((row.stars / total) * 5); %>
        <div id="item">
          <form action="/detail" method="post">
            <input type="hidden" name="id" value="<%=row.id%>" />
            <button id="image-btn">
              <!-- <div id="bbb">
            <i style="font-size: 100px" class="mdi mdi-96px mdi-rotate-0 mdi-tshirt-crew-outline"></i>
          </div>           -->
              <img id="item-img" src="../font/<%=row.pic%>" alt="" srcset="" />
            </button>
          </form>
          <div id="item-name"><%=row.name%></div>
          <div id="prices">
            <div id="new-price">GH₵ <%=row.price%></div>

            <% if (row.off <= 0) { %>
            <!-- <div id="old-price"></div> -->
            <% }else{ %>
            <div id="old-price">GH₵ <%=oldPriceRounded%></div>
            <% } %>
          </div>

          <div id="percent-off">
            <div id="star">
              <%for(let i = 0; i < rate; i++){ %>&starf;<%}%><%for(let i = 0; i
              < (5 - rate); i++){ %>&star;<%}%>(<%=row.rate%>)
            </div>
            <!-- <span class="old-price">GHS 378</span> -->
            <% if (row.off <= 0) { %>
            <!-- <span class="percent-off"></span> -->
            <% }else{ %>
            <span class="percent-off">-<%=row.off%>%</span>
            <% } %>
          </div>
        </div>
        <!-- <li><%=row.First_name%></li> -->
        <%})%> <% Object.keys(result).forEach(key => { var row = result[key];
        const percentOff = (row.off/100)*row.price; const oldPriceWhole =
        Math.round((row.price + percentOff) * (10**2)); const oldPriceRounded =
        oldPriceWhole / (10**2); const total = (row.rate) * 5; const rate =
        Math.round((row.stars / total) * 5); %>
        <div id="item">
          <form action="/detail" method="post">
            <input type="hidden" name="id" value="<%=row.id%>" />
            <button id="image-btn">
              <!-- <div id="bbb">
            <i style="font-size: 100px" class="mdi mdi-96px mdi-rotate-0 mdi-tshirt-crew-outline"></i>
          </div>           -->
              <img id="item-img" src="../font/<%=row.pic%>" alt="" srcset="" />
            </button>
          </form>
          <div id="item-name"><%=row.name%></div>
          <div id="prices">
            <div id="new-price">GH₵ <%=row.price%></div>

            <% if (row.off <= 0) { %>
            <!-- <div id="old-price"></div> -->
            <% }else{ %>
            <div id="old-price">GH₵ <%=oldPriceRounded%></div>
            <% } %>
          </div>

          <div id="percent-off">
            <div id="star">
              <%for(let i = 0; i < rate; i++){ %>&starf;<%}%><%for(let i = 0; i
              < (5 - rate); i++){ %>&star;<%}%>(<%=row.rate%>)
            </div>
            <!-- <span class="old-price">GHS 378</span> -->
            <% if (row.off <= 0) { %>
            <!-- <span class="percent-off"></span> -->
            <% }else{ %>
            <span class="percent-off">-<%=row.off%>%</span>
            <% } %>
          </div>
        </div>
        <!-- <li><%=row.First_name%></li> -->
        <%})%>
      </div>
    </div>
    <%- include("footer")%>
  </body>
</html>



<script>
  function autocomplete(inp, arr) {
  /*the autocomplete function takes two arguments,
  the text field element and an array of possible autocompleted values:*/
  var currentFocus;
  /*execute a function when someone writes in the text field:*/
  inp.addEventListener("input", function (e) {
    var a,
      b,
      i,
      val = this.value;
    /*close any already open lists of autocompleted values*/
    closeAllLists();
    if (!val) {
      return false;
    }
    currentFocus = -1;
    /*create a DIV element that will contain the items (values):*/
    a = document.createElement("DIV");
    a.setAttribute("id", this.id + "autocomplete-list");
    a.setAttribute("class", "autocomplete-items");
    /*append the DIV element as a child of the autocomplete container:*/
    this.parentNode.appendChild(a);
    /*for each item in the array...*/
    for (i = 0; i < arr.length; i++) {
      /*check if the item starts with the same letters as the text field value:*/
      if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
        /*create a DIV element for each matching element:*/
        b = document.createElement("DIV");
        /*make the matching letters bold:*/
        b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
        b.innerHTML += arr[i].substr(val.length);
        /*insert a input field that will hold the current array item's value:*/
        b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
        /*execute a function when someone clicks on the item value (DIV element):*/
        b.addEventListener("click", function (e) {
          /*insert the value for the autocomplete text field:*/
          inp.value = this.getElementsByTagName("input")[0].value;
          /*close the list of autocompleted values,
              (or any other open lists of autocompleted values:*/
          closeAllLists();
        });
        a.appendChild(b);
      }
    }
  });
  /*execute a function presses a key on the keyboard:*/
  inp.addEventListener("keydown", function (e) {
    var x = document.getElementById(this.id + "autocomplete-list");
    if (x) x = x.getElementsByTagName("div");
    if (e.keyCode == 40) {
      /*If the arrow DOWN key is pressed,
        increase the currentFocus variable:*/
      currentFocus++;
      /*and and make the current item more visible:*/
      addActive(x);
    } else if (e.keyCode == 38) {
      //up
      /*If the arrow UP key is pressed,
        decrease the currentFocus variable:*/
      currentFocus--;
      /*and and make the current item more visible:*/
      addActive(x);
    } else if (e.keyCode == 13) {
      /*If the ENTER key is pressed, prevent the form from being submitted,*/
      e.preventDefault();
      if (currentFocus > -1) {
        /*and simulate a click on the "active" item:*/
        if (x) x[currentFocus].click();
      }
    }
  });
  function addActive(x) {
    /*a function to classify an item as "active":*/
    if (!x) return false;
    /*start by removing the "active" class on all items:*/
    removeActive(x);
    if (currentFocus >= x.length) currentFocus = 0;
    if (currentFocus < 0) currentFocus = x.length - 1;
    /*add class "autocomplete-active":*/
    x[currentFocus].classList.add("autocomplete-active");
  }
  function removeActive(x) {
    /*a function to remove the "active" class from all autocomplete items:*/
    for (var i = 0; i < x.length; i++) {
      x[i].classList.remove("autocomplete-active");
    }
  }
  function closeAllLists(elmnt) {
    /*close all autocomplete lists in the document,
    except the one passed as an argument:*/
    var x = document.getElementsByClassName("autocomplete-items");
    for (var i = 0; i < x.length; i++) {
      if (elmnt != x[i] && elmnt != inp) {
        x[i].parentNode.removeChild(x[i]);
      }
    }
  }
  /*execute a function when someone clicks in the document:*/
  document.addEventListener("click", function (e) {
    closeAllLists(e.target);
  });
}

/*An array containing all the country names in the world:*/
var countries = <%=arr %>;

/*initiate the autocomplete function on the "myInput" element, and pass along the countries array as possible autocomplete values:*/
autocomplete(document.getElementById("myInput"), countries);

// document.write("<%=arr%>")

</script>
